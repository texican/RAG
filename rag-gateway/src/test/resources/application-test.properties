# Test Configuration for Enterprise RAG Gateway

# Server configuration
server.port=0

# JWT Configuration for testing
jwt.secret=testSecretKeyForTestingOnly123456789012345678901234567890
jwt.access-token-expiration=3600
jwt.refresh-token-expiration=604800

# Disable database autoconfiguration (gateway doesn't need it, but keep Redis for security services)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

# Redis configuration for testing security services
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms
spring.data.redis.connect-timeout=2000ms

# Disable Spring Cloud Gateway discovery
spring.cloud.gateway.discovery.locator.enabled=false

# Test logging
logging.level.com.byo.rag.gateway=DEBUG
logging.level.org.springframework.cloud.gateway=INFO

# Disable actuator endpoints for testing
management.endpoints.web.exposure.include=health

# Circuit breaker test configuration
resilience4j.circuitbreaker.configs.default.failure-rate-threshold=50
resilience4j.circuitbreaker.configs.default.minimum-number-of-calls=3
resilience4j.circuitbreaker.configs.default.sliding-window-size=5