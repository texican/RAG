# Test configuration for RAG Embedding Service

# Enable test profile
spring.profiles.active=test

# Database Configuration (H2 in-memory for testing)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Disable Redis for tests (use embedded Redis)
spring.data.redis.host=localhost
spring.data.redis.port=6370
spring.data.redis.database=0

# Disable Kafka for tests
kafka.enabled=false

# Embedding Configuration
embedding.models.default=test-model
embedding.models.fallback=test-fallback
embedding.models.cache-ttl=60
embedding.models.openai.api-key=test-api-key

# Vector Storage Configuration
embedding.vector.redis.host=localhost
embedding.vector.redis.port=6370
embedding.vector.redis.database=0
embedding.vector.redis.index-prefix=test:vectors
embedding.vector.redis.dimension=384

# Batch Configuration
embedding.batch.size=10
embedding.batch.timeout=5s
embedding.batch.max-retries=2
embedding.batch.parallel-processing=false

# Logging
logging.level.com.enterprise.rag=DEBUG
logging.level.org.springframework.ai=WARN
logging.level.redis.clients.jedis=ERROR